{
  "$schema": "http://json-schema.org/draft-07/schema#",
  "title": "ProviderModel",
  "description": "Schema for provider-specific model configurations and pricing",
  "type": "object",
  "properties": {
    "model_provider_id": {
      "type": "integer",
      "description": "Unique identifier for this provider-model configuration",
      "minimum": 1
    },
    "model_id": {
      "type": "string",
      "description": "ID of the model"
    },
    "provider_id": {
      "type": "string",
      "description": "ID of the provider offering this model"
    },
    "provider_model_id_used": {
      "type": ["string", "null"],
      "description": "Model ID as used by the provider's API",
      "examples": ["gpt-4-turbo", "claude-3-opus-20240229"]
    },
    "deprecated_at": {
      "type": ["string", "null"],
      "format": "date-time",
      "description": "Timestamp when this model configuration was deprecated"
    },
    "input_cents_per_million_tokens": {
      "type": ["number", "null"],
      "description": "Cost in cents per million input tokens",
      "minimum": 0,
      "examples": [1000, 300, 80]
    },
    "output_cents_per_million_tokens": {
      "type": ["number", "null"],
      "description": "Cost in cents per million output tokens",
      "minimum": 0,
      "examples": [3000, 1500, 400]
    },
    "quantization": {
      "type": ["string", "null"],
      "description": "Quantization method applied to the model",
      "examples": ["int8", "int4", "fp16", "bf16"]
    },
    "max_input_tokens": {
      "type": ["integer", "null"],
      "description": "Maximum number of input tokens supported",
      "minimum": 1,
      "examples": [128000, 200000, 32000]
    },
    "max_output_tokens": {
      "type": ["integer", "null"],
      "description": "Maximum number of output tokens supported",
      "minimum": 1,
      "examples": [4096, 8192, 200000]
    },
    "throughput": {
      "type": ["number", "null"],
      "description": "Tokens per second throughput",
      "minimum": 0,
      "examples": [42.0, 150.5, 200.0]
    },
    "latency": {
      "type": ["number", "null"],
      "description": "Time to first token in seconds",
      "minimum": 0,
      "examples": [0.4, 0.2, 1.5]
    },
    "feature_web_search": {
      "type": ["boolean", "null"],
      "description": "Whether web search is available",
      "default": false
    },
    "feature_function_calling": {
      "type": ["boolean", "null"],
      "description": "Whether function/tool calling is supported",
      "default": false
    },
    "feature_structured_output": {
      "type": ["boolean", "null"],
      "description": "Whether structured output (JSON mode) is supported",
      "default": false
    },
    "feature_code_execution": {
      "type": ["boolean", "null"],
      "description": "Whether code execution is supported",
      "default": false
    },
    "feature_batch_inference": {
      "type": ["boolean", "null"],
      "description": "Whether batch inference is available",
      "default": false
    },
    "feature_finetuning": {
      "type": ["boolean", "null"],
      "description": "Whether fine-tuning is available",
      "default": false
    },
    "input_modality_text": {
      "type": ["boolean", "null"],
      "description": "Whether text input is supported",
      "default": true
    },
    "input_modality_image": {
      "type": ["boolean", "null"],
      "description": "Whether image input is supported",
      "default": false
    },
    "input_modality_audio": {
      "type": ["boolean", "null"],
      "description": "Whether audio input is supported",
      "default": false
    },
    "input_modality_video": {
      "type": ["boolean", "null"],
      "description": "Whether video input is supported",
      "default": false
    },
    "output_modality_text": {
      "type": ["boolean", "null"],
      "description": "Whether text output is supported",
      "default": true
    },
    "output_modality_image": {
      "type": ["boolean", "null"],
      "description": "Whether image output is supported",
      "default": false
    },
    "output_modality_audio": {
      "type": ["boolean", "null"],
      "description": "Whether audio output is supported",
      "default": false
    },
    "output_modality_video": {
      "type": ["boolean", "null"],
      "description": "Whether video output is supported",
      "default": false
    },
    "created_at": {
      "type": "string",
      "format": "date-time",
      "description": "Timestamp when the record was created"
    },
    "updated_at": {
      "type": "string",
      "format": "date-time",
      "description": "Timestamp when the record was last updated"
    },
    "model_name": {
      "type": "string",
      "description": "Display name of the model (denormalized for convenience)"
    },
    "organization_id": {
      "type": "string",
      "description": "ID of the organization that created the model (denormalized)"
    }
  },
  "required": [
    "model_provider_id",
    "model_id",
    "provider_id",
    "created_at",
    "updated_at",
    "model_name",
    "organization_id"
  ],
  "additionalProperties": false
}
